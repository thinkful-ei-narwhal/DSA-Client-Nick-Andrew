(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{16:function(e,t,n){},22:function(e,t,n){e.exports=n.p+"static/media/dogs.7cad3d5b.jpg"},26:function(e,t,n){e.exports=n(42)},31:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(21),r=n.n(c),l=n(3),i=n(4),u=n(6),s=n(5),p=n(7),m=n(10),h=(n(31),n(16),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"nav"},o.a.createElement("h1",{className:"companyHeader"},"PETFUL FIFO ADOPTIONS"))}}]),t}(a.Component)),d=n(12),f=n(22),E=n.n(f),b=(n(32),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h3",{className:"tagLine"},"Welcome To Our Adoption Site!"),o.a.createElement("p",{className:"tagLine-subtext"},"Petful is a place for pet lovers to adopt their new pets. Our mission is to help the animals first and find them a home. People that enter the queue are given a choice of cat of dog to adopt. You get to see both animals and then make your choice on which is the right one for you!"),o.a.createElement("img",{className:"dogPic",src:E.a,alt:"Logo"}),o.a.createElement(d.b,{className:"adoptPageBtn",to:"/adoption"},"Adopt A Pet"))}}]),t}(a.Component)),O=n(25),P={API_ENDPOINT:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_BASE:"http://petful-app-nick-andrew.herokuapp.com/api"}).REACT_APP_API_ENDPOINT||"http://localhost:8000/api",API_KEY:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_BASE:"http://petful-app-nick-andrew.herokuapp.com/api"}).REACT_APP_API_KEY},g={getCat:function(){return fetch("".concat(P.API_ENDPOINT,"/pets/cat"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deleteCat:function(e){return fetch("".concat(P.API_ENDPOINT,"/pets/cat"),{method:"DELETE",headers:{"content-type":"application/json"}})},getDog:function(){return fetch("".concat(P.API_ENDPOINT,"/pets/dog"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deleteDog:function(e){return fetch("".concat(P.API_ENDPOINT,"/pets/dog"),{method:"DELETE",headers:{"content-type":"application/json"}})},getPeople:function(){return fetch("".concat(P.API_ENDPOINT,"/people"),{headers:{}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postPeople:function(e){return fetch("".concat(P.API_ENDPOINT,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deletePeople:function(){return fetch("".concat(P.API_ENDPOINT,"/people"),{method:"DELETE",headers:{"content-type":"application/json"}})}},v=(n(38),n(14)),j=(n(39),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.pet,t=e.age,n=e.breed,a=e.imageDescription,c=e.imageURL,r=e.name,l=e.sex,i=e.story;return o.a.createElement("article",{className:"petCard"},o.a.createElement("h2",{className:"petDetails"},r),o.a.createElement("img",{src:c,alt:a}),o.a.createElement("p",{className:"petDetails"},"Age: ",t),o.a.createElement("p",{className:"petDetails"},"Sex: ",l),o.a.createElement("p",{className:"petDetails"},"Breed: ",n),o.a.createElement("p",{className:"petDetails"},r,"'s Story: ",i))}}]),t}(a.Component)),A=(n(40),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("button",{className:"adoptBtn",onClick:function(){return e.props.executeAdoption(e.props.type,!0)}},"Adopt Me!")}}]),t}(a.Component)),N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).executeAdoption=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o="cat"===e?g.deleteCat().then((function(e){return t=!0,g.getCat()})).catch((function(e){return t=!0,null})):g.deleteDog().then((function(e){return g.getDog()})).then((function(e){return t=!1,e})).catch((function(e){return t=!0,null})),c=g.deletePeople().then((function(e){return g.getPeople()}));Promise.all([o,c]).then((function(e){var o=Object(O.a)(e,2),c=o[0],r=o[1];a?t?n.setState({cat:c,people:r,enableSubmit:!0}):n.setState({dog:c,people:r,enableSubmit:!0}):t?n.setState({cat:c,people:r}):n.setState({dog:c,people:r})}))},n.onAddRandomAdopter=function(e){g.postPeople(e).then((function(e){return g.getPeople()})).then((function(e){return n.setState({people:e})})).catch((function(e){n.setState({error:e})}))},n.state={cat:null,dog:null,people:[],error:null,initialized:!1,user:"",enableSubmit:!0},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.intervalFunction(e.state,e.executeAdoption,e.onAddRandomAdopter)}),5e3);var t={cat:null,dog:null,people:[],error:null,initialized:!1,user:""},n=g.getCat().then((function(e){t.cat=e})).catch((function(e){return t.cat=null})),a=g.getDog().then((function(e){t.dog=e})).catch((function(e){return t.dog=null})),o=g.getPeople().then((function(e){t.people=e})).catch((function(t){e.setState({error:t})}));Promise.all([n,a,o]).then((function(){t.initialized=!0,e.setState(t)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"intervalFunction",value:function(e,t,n){var a=e.people[0].name,o=e.cat,c=e.dog;a!==e.user&&null!==o&&null!==c&&t(Math.floor(Math.random()*Math.floor(2))?"cat":"dog");(a!==e.user&&null===o&&null!==c&&t("dog"),a!==e.user&&null!==o&&null===c&&t("cat"),e.people.length<5)&&n(Object(v.d)({dictionaries:[v.c,v.a,v.b]}))}},{key:"onSubmitToQueue",value:function(e){var t=this;return e.preventDefault(),this.setState({user:e.target.name.value}),g.postPeople(e.target.name.value).then((function(e){g.getPeople().then((function(e){return t.setState({people:e,enableSubmit:!1})}))})).catch((function(e){t.setState({error:e})})),e.target.name.value=""}},{key:"loadPage",value:function(){var e=this,t=this.state,n=t.cat,a=t.dog,c=t.people,r=t.user,l=o.a.createElement(o.a.Fragment,null,o.a.createElement(j,{pet:n}),c[0].name===r?o.a.createElement(A,{executeAdoption:this.executeAdoption,type:"cat"}):null),i=o.a.createElement(o.a.Fragment,null,o.a.createElement(j,{pet:a}),c[0].name===r?o.a.createElement(A,{executeAdoption:this.executeAdoption,type:"dog"}):null);return o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",null),o.a.createElement("h2",null,"Animals Available For Adoption"),o.a.createElement("main",null,o.a.createElement("div",{className:"card"},null!==n?l:o.a.createElement("p",null,"All cats have been adopted!")),o.a.createElement("div",{className:"card"},null!==a?i:o.a.createElement("p",null,"All dogs have been adopted!")),o.a.createElement("div",{className:"form-card"},o.a.createElement("ul",null,c.map((function(e,t){return o.a.createElement("li",{key:t},0===t&&o.a.createElement("span",null,"Up Next: "),e.name)}))),this.state.enableSubmit&&o.a.createElement("form",{onSubmit:function(t){return e.onSubmitToQueue(t)}},o.a.createElement("label",{className:"basic-label"},"Name:"," ",o.a.createElement("input",{className:"basic-input",type:"text",name:"name"})),o.a.createElement("input",{className:"submit-btn",type:"submit",value:"Submit"})))))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.state.initialized?this.loadPage():null)}}]),t}(a.Component),S=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={hasError:!1},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement(h,null)),o.a.createElement("main",null,o.a.createElement(m.c,null,o.a.createElement(m.a,{exact:!0,path:"/",component:b}),o.a.createElement(m.a,{path:"/adoption",component:N}))))}}]),t}(a.Component);n(41);r.a.render(o.a.createElement(d.a,null,o.a.createElement(S,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.e42ca205.chunk.js.map